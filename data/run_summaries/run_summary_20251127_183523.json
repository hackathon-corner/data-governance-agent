{
  "run_id": "local-issues",
  "description": "Config for a problematic pipeline run to surface schema / DQ / FK issues.",
  "overall_passed": false,
  "checks": {
    "schema": {
      "passed": false,
      "tables": {
        "events": {
          "missing_columns": [],
          "extra_columns": [],
          "invalid_values": {
            "event_type": [
              "click",
              "login",
              "submit",
              "view"
            ]
          },
          "type_mismatches": {},
          "passed": false
        },
        "users": {
          "missing_columns": [
            "full_name"
          ],
          "extra_columns": [
            "role"
          ],
          "invalid_values": {},
          "type_mismatches": {},
          "passed": false
        },
        "courses": {
          "missing_columns": [],
          "extra_columns": [
            "term"
          ],
          "invalid_values": {},
          "type_mismatches": {},
          "passed": false
        }
      }
    },
    "data_quality": {
      "null_fractions": {
        "event_id": 0.0,
        "user_id": 0.0,
        "course_id": 0.16666666666666666,
        "event_type": 0.0,
        "timestamp": 0.0,
        "ip_address": 0.0,
        "user_email": 0.0
      },
      "columns_exceeding_null_threshold": {
        "course_id": 0.16666666666666666
      },
      "non_null_violations": {},
      "unique_key_violations": {},
      "invalid_event_types": [
        "click",
        "login",
        "submit",
        "view"
      ],
      "passed": false
    },
    "pii_policy": {
      "detected_pii_columns": [
        "ip_address",
        "user_email"
      ],
      "removed_pii_columns": [
        "ip_address",
        "user_email"
      ],
      "remaining_pii_in_curated": [],
      "pii_allowed_in_raw": true,
      "pii_allowed_in_curated": false,
      "passed": true
    },
    "foreign_keys": {
      "passed": false,
      "violations": [
        {
          "table": "events",
          "column": "user_id",
          "ref_table": "users",
          "ref_column": "user_id",
          "missing_keys": [
            "uX"
          ],
          "missing_count": 1
        },
        {
          "table": "events",
          "column": "course_id",
          "ref_table": "courses",
          "ref_column": "course_id",
          "missing_keys": [
            "cX"
          ],
          "missing_count": 1
        }
      ]
    }
  },
  "lineage": {
    "source": {
      "filename": "test_data/events_rich_sample.csv",
      "rows_in": 6
    },
    "target": {
      "filename": "analytics_events.csv",
      "rows_out": 6
    }
  },
  "metadata": {
    "generated_at_utc": "2025-11-27T18:35:23Z"
  }
}