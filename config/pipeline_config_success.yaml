run_id: "local-success"
description: "Config for a successful pipeline run (sample passing fixtures)."

sources:
  events:
    filename: "events_good.csv"
  users:
    filename: "users_good.csv"
  courses:
    filename: "courses_good.csv"

targets:
  events_curated:
    filename: "analytics_events.csv"

data_quality:
  unique_keys: ["event_id"]
  non_null_columns: ["event_id", "user_id", "timestamp"]
  allowed_event_types: ["page_view", "assignment_submit", "discussion_post", "quiz_start", "quiz_submit","video_play"]

schema:
  foreign_keys:
    - table: "events"
      column: "user_id"
      ref_table: "users"
      ref_column: "user_id"
    - table: "events"
      column: "course_id"
      ref_table: "courses"
      ref_column: "course_id"

policy:
  pii_columns: ["user_email", "ip_address"]
  pii_allowed_in_raw: true
  pii_allowed_in_curated: false
